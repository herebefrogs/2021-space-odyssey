<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><style>body{margin:0;text-align:center;background:#000}body,canvas{touch-action:none;user-select:none}</style><canvas id=c></canvas><script>(()=>{var e,t=/iPhone|iPad|Android/i.test(navigator.userAgent);function o(e,t,o){return 0>o?e:o>1?t:e*(1-o)+t*o}function a(t,o,a,i,h=0,n=1){const m=8*n,c=t.length*(n+m),r=2===h?c:1===h?c/2:0;[...t].forEach(((t,h)=>{o.drawImage(e,8*"abcdefghijklmnopqrstuvwxyz0123456789.:!-%,/".indexOf(t),0,8,8,a+h*(m+1)-r,i,m,m)}))}new(top.AudioContext||webkitAudioContext);var i,h,n,m=[38,38,40,40,37,39,37,39,66,65],r=0,v=0,s=c.getContext("2d"),w=c.cloneNode(),g=w.getContext("2d");w.width=640,w.height=480;var d=c.cloneNode(),y=d.getContext("2d");d.width=320,d.height=240;var f,x,p,l,A,u=d.width-100,k=d.height-50,M=0,D=0,b={hero:{move:[{x:0,y:0,w:16,h:18},{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],speed:100},foe:{move:[{x:0,y:0,w:16,h:18}],speed:0}},R=!0;function X(){r=0,i=60,M=D=0,h=Y("hero",d.width/2,d.height/2),n=[h,Y("foe",10,10),Y("foe",614,10),Y("foe",614,452),Y("foe",300,200),Y("foe",400,300),Y("foe",500,400),Y("foe",10,452),Y("foe",100,100),Y("foe",100,118),Y("foe",116,118),Y("foe",116,100)],g.fillStyle="#fff",g.fillRect(0,0,w.width,w.height),v=1}function Y(e,t=0,o=0){const a=b[e].move[0];return{action:"move",frame:0,frameTime:0,h:a.h,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,moveX:0,moveY:0,speed:b[e].speed,type:e,w:a.w,x:t,y:o}}function E(e){e.frameTime+=p,e.frameTime>.1&&(e.frameTime-=.1,e.frame+=1,e.frame%=b[e.type][e.action].length);const t=e.speed*p*(e.moveX&&e.moveY?.7071067811865476:1);e.x+=t*e.moveX,e.y+=t*e.moveY}function U(e){const t=b[e.type][e.action][e.frame];y.drawImage(f,t.x,t.y,t.w,t.h,Math.round(e.x-M),Math.round(e.y-D),t.w,t.h)}function K(){R&&(A=requestAnimationFrame(K),(()=>{switch(y.fillStyle="#fff",y.fillRect(0,0,d.width,d.height),v){case 0:a("title screen",y,8,8),a(t?"tap to start":"press any key",y,d.width/2,d.height/2,1),10===r&&a("konami mode on",y,d.width-8,8,2);break;case 1:y.drawImage(w,M,D,d.width,d.height,0,0,d.width,d.height),a("game screen",y,8,8),(()=>{const e=Math.floor(Math.ceil(i)/60),t=Math.ceil(i)-60*e;a(`${e}:${t>9?"":"0"}${t}`,y,d.width-8,8,2)})(),n.forEach(U);break;case 2:a("end screen",y,8,8)}s.drawImage(d,0,0,d.width,d.height,0,0,c.width,c.height)})(),x=Date.now(),p=(x-l)/1e3,(()=>{switch(v){case 1:0>(i-=p)&&(v=2),I?(h.moveX=h.moveLeft+h.moveRight,h.moveY=h.moveUp+h.moveDown):(h.moveX=h.moveLeft||h.moveRight?(h.moveLeft>h.moveRight?-1:1)*o(0,1,(x-Math.max(h.moveLeft,h.moveRight))/150):0,h.moveY=h.moveDown||h.moveUp?(h.moveUp>h.moveDown?-1:1)*o(0,1,(x-Math.max(h.moveUp,h.moveDown))/150):0),n.forEach(E),n.slice(1).forEach((e=>{const t=((e,t)=>{const o={entity1MaxX:e.x+e.w,entity1MaxY:e.y+e.h,entity2MaxX:t.x+t.w,entity2MaxY:t.y+t.h};return o.collide=o.entity2MaxX>e.x&&o.entity1MaxX>t.x&&o.entity2MaxY>e.y&&o.entity1MaxY>t.y,o})(h,e);t.collide&&((e,t,o)=>{const{entity1MaxX:a,entity1MaxY:i,entity2MaxX:h,entity2MaxY:n}=o,m=a-t.x,c=i-t.y,r=h-e.x,v=n-e.y;e.moveX>0&&e.moveY>0?c>m?e.x-=m:e.y-=c:e.moveX>0&&0>e.moveY?v>m?e.x-=m:e.y+=v:e.moveX>0?e.x-=m:0>e.moveX&&e.moveY>0?c>r?e.x+=r:e.y-=c:0>e.moveX&&0>e.moveY?v>r?e.x+=r:e.y+=v:0>e.moveX?e.x+=r:e.moveY>0?e.y-=c:0>e.moveY&&(e.y+=v)})(h,e,t)})),0>(e=h).x?e.x=0:e.x>w.width-e.w&&(e.x=w.width-e.w),0>e.y?e.y=0:e.y>w.height-e.h&&(e.y=w.height-e.h),M>0&&M+100>h.x?M=Math.max(0,h.x-100):w.width-d.width>M&&h.x+h.w>M+u&&(M=Math.min(w.width-d.width,h.x+h.w-u)),D>0&&D+50>h.y?D=Math.max(0,h.y-50):w.height-d.height>D&&h.y+h.h>D+k&&(D=Math.min(w.height-d.height,h.y+h.h-k))}var e})(),l=x)}function L(e){(R=e)?(l=Date.now(),K()):cancelAnimationFrame(A)}function N(e){return new Promise((t=>{var o=new Image;o.onload=()=>{t(o)},o.src=e}))}onload=async()=>{document.title="Game Jam Boilerplate",onresize(),await(async t=>{e=await t("data:image/webp;base64,UklGRngBAABXRUJQVlA4TGwBAAAvV8EBEB8gFkz258+bhkAgiWF/1wkEKAr/L5v/APCvBpIbwI0jiYD/0n9D4RzKZze0EtD672FnsP8Ngdyjj58hNIFh2ZtCRP8Vtm3bOED3UJ1eERFttqgREbO1GQQQS+Jca1QaDwpGnBHXek3SGi0ZiKOKiOS+1ykiE0al8gXudIFjgbt3hdJ4Ep0ErBMN1BXWC3OkRhF58Q85zJn/+T/RPjuUJ4IdxhW2mu944p2YTGRbRpntp23LxmRPIn96wL69T4OR7MSV9+Mr+g77pvjQathhF4OFXX7Bsz1K16GjDIXhpHBLuUER/vfED/tmKzn49W963N9hl/2yr+ydbepfYNuSZdeeWwu7zQXY28P7nPO8Q2GDsgZjAj/kZN2TbxR8Xi3b2cFjK1jcT5YcORVO8q5eO+VmlE5yP3sXdKRjyfRpKEvEf4/Fpc2TgyofNGvMiMNBco2Yed81rsTFPzgy6rVd67Hkjkh7vUoT")})(N),f=await N("data:image/webp;base64,UklGRvoAAABXRUJQVlA4TO0AAAAvT0AEEDegkI0kaD+kdVj40zgoxYwkQfMfg2v9l2M9lkVNACQMNCEIOPq3MIcHQbZNzcZ+sgcAlZ/5PdWeeOv2wFEjSY40hsA6AKNGsFJJ/T/DYLQIHH8MN129s4cgov8M3LaNw7a7txjZL8LDMf4r1rB0GSKbF4K5y4uBYq1A7jI7NNPSPhx6rQhN3S6ELpWd5FLH6IMjN7si35Udo6HZUgsM1NDha+wM4Efs2i4OQugUTtuccnZpNrxcDsoNs07A9qEHl7O/h4PmDm65el34+cPABatIskq6UUQaaUtaABHLKZAohglQpAV4vgkA"),L(!0)},onresize=onrotate=()=>{const e=Math.min(innerWidth/d.width,innerHeight/d.height);c.width=d.width*e,c.height=d.height*e,s.imageSmoothingEnabled=g.imageSmoothingEnabled=y.imageSmoothingEnabled=!1},document.onvisibilitychange=e=>{L(!e.target.hidden)},onkeydown=e=>{if(e.preventDefault(),!e.repeat)switch(v){case 1:switch(e.code){case"ArrowLeft":case"KeyA":case"KeyQ":h.moveLeft=x;break;case"ArrowUp":case"KeyW":case"KeyZ":h.moveUp=x;break;case"ArrowRight":case"KeyD":h.moveRight=x;break;case"ArrowDown":case"KeyS":h.moveDown=x;break;case"KeyP":L(!R)}}},onkeyup=e=>{switch(v){case 0:e.which!==m[r]||10===r?X():r++;break;case 1:switch(e.code){case"ArrowLeft":case"KeyA":case"KeyQ":h.moveRight&&(h.moveRight=x),h.moveLeft=0;break;case"ArrowRight":case"KeyD":h.moveLeft&&(h.moveLeft=x),h.moveRight=0;break;case"ArrowUp":case"KeyW":case"KeyZ":h.moveDown&&(h.moveDown=x),h.moveUp=0;break;case"ArrowDown":case"KeyS":h.moveUp&&(h.moveUp=x),h.moveDown=0}break;case 2:switch(e.code){case"KeyT":open("https://twitter.com/intent/tweet?text=viral%20marketing%20message%20https%3A%2F%2Fgoo.gl%2Fsome tiny Google url here","_blank");break;default:v=0}}};var F=0,Q=0,T=0,j=0,I=!1;function P(e){return[e.pageX||e.changedTouches[0].pageX,e.pageY||e.changedTouches[0].pageY]}ontouchstart=onpointerdown=e=>{switch(e.preventDefault(),v){case 1:I=!0,[T,j]=[F,Q]=P(e)}},ontouchmove=onpointermove=e=>{switch(e.preventDefault(),v){case 1:F&&Q&&(([e,t])=>{e>T?h.moveRight=o(0,1,((T=e)-F)/30):F>e?h.moveLeft=-o(0,1,(T-(F=e))/30):T>e&&h.moveX>0?(F=e,h.moveRight=0):e>F&&0>h.moveX&&(T=e,h.moveLeft=0),t>j?h.moveDown=o(0,1,((j=t)-Q)/30):Q>t?h.moveUp=-o(0,1,(j-(Q=t))/30):j>t&&h.moveY>0?(Q=t,h.moveDown=0):t>Q&&0>h.moveY&&(j=t,h.moveUp=0)})(P(e))}},ontouchend=onpointerup=e=>{switch(e.preventDefault(),v){case 0:X();break;case 1:I=!1,h.moveLeft=h.moveRight=h.moveDown=h.moveUp=0,F=Q=T=j=0;break;case 2:v=0}}})();</script>